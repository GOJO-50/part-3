(this.webpackJsonptemplate=this.webpackJsonptemplate||[]).push([[0],{40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(16),c=n.n(a),r=n(3),o=n(2),u=n(0),i=function(e){var t=e.persons,n=e.clear,a=e.filter;return Object(u.jsx)("div",{children:(a?t.filter((function(e){return e.name.toUpperCase().includes(a.toUpperCase())})):t).map((function(e){return Object(u.jsxs)("p",{children:[e.name," ",e.number,Object(u.jsx)("button",{onClick:function(){return n(e.name,e.id)},className:"del",children:"Delete"})]},e.id)}))})},s=function(e){var t=e.add,n=e.newName,a=e.newNumber,c=e.handleNumber,r=e.handleName;return Object(u.jsx)("div",{children:Object(u.jsxs)("form",{onSubmit:t,children:[Object(u.jsxs)("div",{children:["Name: ",Object(u.jsx)("input",{value:n,onChange:r})]}),Object(u.jsxs)("div",{children:["Number: ",Object(u.jsx)("input",{value:a,onChange:c})]}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{type:"submit",className:"submit",children:"add"})})]})})},l=n(4),d=n.n(l),j="http://localhost:3001/api/persons",b=function(){return d.a.get(j).then((function(e){return e.data}))},h=function(e){return d.a.post(j,e).then((function(e){return e.data}))},f=function(e){return d.a.delete("".concat(j,"/").concat(e)).then((function(e){return e.data}))},m=function(e){var t=e.message;return null===t?null:Object(u.jsx)("div",{className:"success",children:t})},O=(n(40),function(e){var t=e.value,n=e.onChange;return Object(u.jsxs)("div",{children:["filter shown with: ",Object(u.jsx)("input",{value:t,onChange:n})]})}),p=function(){var e=Object(o.useState)([]),t=Object(r.a)(e,2),n=t[0],a=t[1],c=Object(o.useState)(""),l=Object(r.a)(c,2),d=l[0],j=l[1],p=Object(o.useState)(0),v=Object(r.a)(p,2),x=v[0],g=v[1],N=Object(o.useState)(null),w=Object(r.a)(N,2),C=w[0],k=w[1],y=Object(o.useState)(""),S=Object(r.a)(y,2),U=S[0],A=S[1];Object(o.useEffect)((function(){b().then((function(e){a(e)}))}),[]);return Object(u.jsxs)("div",{className:"body",children:[Object(u.jsx)("h2",{children:"Phonebook"}),Object(u.jsx)(O,{value:U,onChange:function(e){console.log(e.target.value),A(e.target.value)}}),Object(u.jsx)(m,{message:C}),Object(u.jsx)("h3",{children:"Add a new"}),Object(u.jsx)(s,{add:function(e){e.preventDefault();var t={name:d,number:x},c=n.filter((function(e){return d.toUpperCase()===e.name.toUpperCase()})),r=n.filter((function(e){return x===e.number}));void 0!==c[0]?alert("".concat(d," is already added to phonebook")):void 0!==r[0]?alert("".concat(x," is already added to phonebook")):(h(t).then((function(e){return a(n.concat(e))})),j(""),g(""),k("".concat(d," is added to phonebook")),setTimeout((function(){k(null)}),2e3))},newName:d,newNumber:x,handleName:function(e){console.log(e.target.value),j(e.target.value)},handleNumber:function(e){console.log(e.target.value),g(e.target.value)}}),Object(u.jsx)("h2",{children:"Numbers"}),Object(u.jsx)(i,{persons:n,clear:function(e,t){window.confirm("Are you sure you want to delete ".concat(e,"?"))&&f(t).then((function(e){return e.data})),window.location.reload(!1)},filter:U})]})};c.a.render(Object(u.jsx)(p,{}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.b5a39e08.chunk.js.map